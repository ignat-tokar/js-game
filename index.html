<div id="canvas" style="
	background-color: white;
">
	<img src="fullscreen.png" id="fsBtn" style="
		width: 40px;
		height: 40px;
		position: absolute;
		top: 20px;
		right: 20px;
	" />
	<div id="img-block" style="
		width: 288px;
		height: 288px;
		overflow: hidden;
		position: relative;
		left: 0px;
	">
		<img id="hero-img" style="
			width: 1728px;
			height: 1152px;
			position: relative;
			top: 0px;
			left: -288px;
			transform: scale(-1,1);
		" src="hero-sprite.png" />
	</div>
</div>
<script>
	// -576px
	//ПЕРЕМЕННЫЕ
	let heroImg = window.document.querySelector('#hero-img');
	heroImg.onclick = (event) => {
		event.preventDefault();
	}
	let imgBlock = window.document.querySelector('#img-block');
	let canvas = window.document.querySelector('#canvas');
	let fsBtn = window.document.querySelector('#fsBtn');
	fsBtn.onclick = () => {
		if(window.document.fullscreen){
			fsBtn.src = 'fullscreen.png';
			window.document.exitFullscreen();
		}else{
			fsBtn.src = 'cancel.png';
			canvas.requestFullscreen();
		}
	}
	let rightPosition = 0;
	let imgBlockPosition = 0;
	let direction = 'right';
	//ФУНКЦИИ
	const rightHandler = () => {
		heroImg.style.transform = "scale(-1,1)";
		rightPosition = rightPosition + 1;
		imgBlockPosition = imgBlockPosition + 1;
		if (rightPosition > 5) {
			rightPosition = 0;
		}
		heroImg.style.left = `-${rightPosition * 288}px`;
		heroImg.style.top = '-576px';
		imgBlock.style.left = `${imgBlockPosition * 20}px`;
	}
	const leftHandler = () => {
		heroImg.style.transform = "scale(1,1)";
		rightPosition = rightPosition + 1;
		imgBlockPosition = imgBlockPosition - 1;
		if (rightPosition > 5) {
			rightPosition = 0;
		}
		heroImg.style.left = `-${rightPosition * 288}px`;
		heroImg.style.top = '-576px';
		imgBlock.style.left = `${imgBlockPosition * 20}px`;
	}	
	const standHanlder = () => {
		switch (direction) {
			case 'right': {
				heroImg.style.transform = "scale(-1,1)";		
				if (rightPosition > 4) {
					rightPosition = 1;
				}				
				break;
			}
			case 'left': {
				heroImg.style.transform = "scale(1,1)";		
				if (rightPosition > 3) {
					rightPosition = 0;
				}					
				break;
			}
			default: break;
		}

		rightPosition = rightPosition + 1;
		heroImg.style.left = `-${rightPosition * 288}px`;
		heroImg.style.top = '0px';
	}

	// ОБРАБОТЧИКИ СОБЫТИЙ
	let timer = null;
	const lifeCycle = () => {
		timer = setInterval(()=>{
			standHanlder();
		}, 150);
	}
	let x = 0;
	let halfWidth = window.screen.width / 2;
	let onTouchStart = (event) => {
		clearInterval(timer);
		x = (event.type === 'mousedown') ? event.screenX : event.touches[0].screenX;
		timer = setInterval(() => {
			if(x > halfWidth) {
				direction = 'right';
				rightHandler();
			} else {
				direction = 'left';
				leftHandler();
			}
		}, 130);
	}
	let onTouchEnd = (event) => {
		clearInterval(timer);
		lifeCycle();
	}

	window.onmousedown = onTouchStart;
	window.ontouchstart = onTouchStart;

	window.onmouseup = onTouchEnd;
	window.ontouchend = onTouchEnd;	

	const start = () => {
		lifeCycle();
	}
	start();
</script>